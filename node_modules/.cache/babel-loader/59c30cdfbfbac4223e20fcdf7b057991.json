{"ast":null,"code":"var _jsxFileName = \"/Users/dmitriy/Desktop/test_project/src/components/ProductContext.js\";\nimport React, { createContext } from \"react\";\nimport { firestore } from \"../index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductsContext = /*#__PURE__*/createContext();\nexport class ProductsContextProvider extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: []\n    };\n  }\n\n  componentDidMounth() {\n    const prevProducts = this.state.products;\n    firestore.collection('Products').onSnapshot(snapshot => {\n      let changes = snapshot.docChanges();\n      changes.forEach(change => {\n        if (change.type === 'added') {\n          prevProducts.push({\n            ProductName: change.docChanges.data().ProductName,\n            ProductPrice: change.doc.data().ProductPrice\n          });\n        }\n\n        this.setState({\n          products: prevProducts\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n      value: {\n        products: [...this.state.products]\n      },\n      children: this.ProductsContextProvider.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/dmitriy/Desktop/test_project/src/components/ProductContext.js"],"names":["React","createContext","firestore","ProductsContext","ProductsContextProvider","Component","state","products","componentDidMounth","prevProducts","collection","onSnapshot","snapshot","changes","docChanges","forEach","change","type","push","ProductName","data","ProductPrice","doc","setState","render","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,SAAT,QAA0B,UAA1B;;AACA,OAAO,MAAMC,eAAe,gBAAGF,aAAa,EAArC;AACP,OAAO,MAAMG,uBAAN,SAAsCJ,KAAK,CAACK,SAA5C,CAAsD;AAAA;AAAA;AAAA,SACzDC,KADyD,GACjD;AACJC,MAAAA,QAAQ,EAAE;AADN,KADiD;AAAA;;AAIzDC,EAAAA,kBAAkB,GAAG;AACjB,UAAMC,YAAY,GAAG,KAAKH,KAAL,CAAWC,QAAhC;AACAL,IAAAA,SAAS,CAACQ,UAAV,CAAqB,UAArB,EAAiCC,UAAjC,CAA4CC,QAAQ,IAAI;AACpD,UAAIC,OAAO,GAAGD,QAAQ,CAACE,UAAT,EAAd;AACAD,MAAAA,OAAO,CAACE,OAAR,CAAgBC,MAAM,IAAI;AACtB,YAAIA,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;AACzBR,UAAAA,YAAY,CAACS,IAAb,CAAkB;AACdC,YAAAA,WAAW,EAAEH,MAAM,CAACF,UAAP,CAAkBM,IAAlB,GAAyBD,WADxB;AAEdE,YAAAA,YAAY,EAAEL,MAAM,CAACM,GAAP,CAAWF,IAAX,GAAkBC;AAFlB,WAAlB;AAIH;;AACD,aAAKE,QAAL,CAAc;AACVhB,UAAAA,QAAQ,EAAEE;AADA,SAAd;AAGH,OAVD;AAWH,KAbD;AAcH;;AACDe,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,eAAD,CAAiB,QAAjB;AAA0B,MAAA,KAAK,EAAE;AAAEjB,QAAAA,QAAQ,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,QAAf;AAAZ,OAAjC;AAAA,gBACK,KAAKH,uBAAL,CAA6BqB;AADlC;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AA3BwD","sourcesContent":["import React, { createContext } from \"react\";\nimport { firestore } from \"../index\";\nexport const ProductsContext = createContext();\nexport class ProductsContextProvider extends React.Component {\n    state = {\n        products: []\n    }\n    componentDidMounth() {\n        const prevProducts = this.state.products;\n        firestore.collection('Products').onSnapshot(snapshot => {\n            let changes = snapshot.docChanges();\n            changes.forEach(change => {\n                if (change.type === 'added') {\n                    prevProducts.push({\n                        ProductName: change.docChanges.data().ProductName,\n                        ProductPrice: change.doc.data().ProductPrice,\n                    })\n                }\n                this.setState({\n                    products: prevProducts\n                })\n            })\n        })\n    }\n    render() {\n        return (\n            <ProductsContext.Provider value={{ products: [...this.state.products] }}>\n                {this.ProductsContextProvider.children}\n            </ProductsContext.Provider>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}